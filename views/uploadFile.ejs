<%- include('header') -%>

<nav class="navbar navbar-expand-lg shadow">
    <div class="navbar-container container-fluid">
      <a class="navbar-brand d-flex flex-row align-items-center justify-content-center" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="rgba(48, 3, 48, 0.395)" class="bi bi-files" viewBox="0 0 16 16">
        <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>
      </svg>FSAP</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarScroll">
        <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll navbar-items" style="--bs-scroll-height: 100px;">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/welcome">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/myUploads">Uploads</a>
          </li>
        </ul>
      <ul class="user navbar-nav">
       
        <li class="nav-item logout-item">  
          <a class="nav-link logout-btn" href="/logout">
          <!--<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
            <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
          </svg>--> Logout</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="/">About FSAP</a></li>
        <li class="nav-item nav-item-upload-btn"><a href="/uploadOnly" class="nav-link"> <svg xmlns="http://www.w3.org/2000/svg" class="upload-file-icon" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
            <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
          </svg></a></li>
       
    </ul>
        
      </div>
    </div>
  </nav>



<div class="upload-main row gx-1">
    <div class="upload-container container col-md-9 col-lg-6">
        <div class="title-div text-center">
            <h2 class="title">Share your files</h2>
            <p>Share files with anyone, anywhere<br>You can share a maximum of 12 files at a time</p>
            <p class="text-danger">All shared files will be found under uploads</p>
            <div class="required text-danger text-start fs-5">* means field is required</div>

          </div>

        <div class="message">
            <% if(locals.success){ %>
              <div class="alert alert-success d-flex flex-row justify-content-center align-items-center row gx-0 w-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="col-1" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg>
              <div class="col-11 px-4">File shared successfully</div>
              </div>           
               <% } %>
            <% if(locals.success == false){ %>
              <div class="alert alert-danger d-flex flex-row justify-content-center align-items-center row gx-0">
                <svg xmlns="http://www.w3.org/2000/svg" class="col-1" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
              </svg> 
              <div class="col-11">Sorry!Something went wrong Please try again</div>
              </div>
              
            <% } %>
        
            <% /*if(typeof links != 'undefined'){ */%>
                <%/* links.forEach(link => { */%>
              <!--    <a  class="border p-1 m-4" href="<%/*= link */%>"><%/*= link */%></a> -->
                  <%/* }); */%>
                  <%/* } */%>
        
        </div>

        
                <form id="share-form" action="/upload" method="post" enctype="multipart/form-data">
                    <div class="row gy-3 gx-0 d-flex flex-column">
                      <small class="text-danger mssg fs-5 p-0 m-0">*</small>
                        <div class="form-floating">
                            <input type="email" class="form-control" name="email" id="email" placeholder="Receiver's email" multiple required>
                            <label for="email" class="align-self-start">Receiver's email</label>
                          </div>
                        <div class="form-floating">
                            <input type="password" class="form-control" name="password" id="password" placeholder="password" >
                            <label for="password" class="align-self-start">Password</label>
                          </div>
                        <div class="form-group">
                          <small class="text-danger mssg fs-5">*</small>
                            <label for="files" class="align-self-start"></label>
                            <input type="file" class="form-control" name="files" id="files" multiple required>
                        </div>
                        <div class="form-group">
                          <button id="share-btn" class="btn btn-primary upload-and-share-btn"><span class="share-btn-first-text">Share</span><span class="sharing d-none">Please wait...<br>sending</span></button>

                        </div>
                    </div>
                    
                </form>
                <button id="cancel-btn" class="disabled cancel-btn btn btn-outline-secondary w-100">Cancel</button>
               <!--
                <%// if(locals.displayShare == true){ %>
                  <form id="share-only-form" action="" method="post">
                   <%// locals.files.forEach(file => {%>
                    <a href="/file/<%//= file._id%>"><%//= file.originalName %> <a href="/delete-before/<%//= file._id%>"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                      <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg></a></a>
                   <%//}); %>
                   <button type="submit" class="btn btn-primary">Share</button>

                  </form>

                  <%//} %>
                  -->
    </div>

             
    
    
    


</div>


<script src="/styles/share.js"></script>
<script src="/styles/upload.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>