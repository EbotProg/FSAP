<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/myuploads.css">
</head>
<body>
<nav class="navbar navbar-expand-lg shadow">
    <div class="navbar-container container-fluid">
      <a class="navbar-brand d-flex flex-row align-items-center justify-content-center" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="rgba(48, 3, 48, 0.395)" class="bi bi-files" viewBox="0 0 16 16">
        <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>
      </svg>FSAP</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarScroll">
        <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll navbar-items" style="--bs-scroll-height: 100px;">
          <li class="nav-item">
            <a class="nav-link" href="/welcome">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/myUploads">Uploads</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/convertFromOffice">Convert to pdf</a>
          </li>
        </ul>
      <ul class="user navbar-nav">
       
        <li class="nav-item logout-item">  
          <a class="nav-link logout-btn" href="/logout">
          <!--<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
            <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
          </svg>--> Logout</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="/">About FSAP</a></li>

        <li class="nav-item nav-item-share-btn"><a href="/fileUpload"><svg class="share-file-icon icon" xmlns="http://www.w3.org/2000/svg"  class="bi bi-share" viewBox="0 0 16 16">
          <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
        </svg></a></li>
        <li class="nav-item nav-item-upload-btn"><a href="/uploadOnly" class="nav-link"> <svg xmlns="http://www.w3.org/2000/svg" class="upload-file-icon icon" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
            <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
          </svg></a></li>
    </ul>
        
      </div>
    </div>
  </nav>





<div class="myuploads-main row gx-1 w-100">
    <div class="my-uploads-container container">
        <div class="title-div text-center">
            <h2 class="title">Your files</h2>
            
        </div>
      </div>

        <% if(files.length !== 0){ %>
          <div class="text-end">
            <button id="back-btn" class="btn btn-outline-secondary d-none"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"/>
            </svg>back</button>
            <button id="new-delete-btn" class="btn btn-outline-danger d-none"><span class="delete-btn-first-text">Delete</span><span class="deleting d-none">Please wait...<br>deleting</span></button>
            <button id="new-share-btn" class="btn btn-outline-secondary d-none">share</button>
          </div>
          <div class="table-outer-div">
          <div class="table-outer-inner-div">
            <table class="table mx-2 border">
              <thead>
                  <th scope="col" class="sticky-side bg-light">File Name</th>
                  <th scope="col">Size</th>
                  <th scope="col">Added on</th>
                  <th scope="col">Added at</th>
                  <th scope="col">security stats</th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                  <th scope="col"><button id="select-files-btn" class="btn btn-light">select many</button></th>
                  <th class="input-td d-none"><input class="delete-all-input" id="choose-all"  type="checkbox" />&nbsp;<span class="delete-all-input">All</span> </th>

              </thead>
              <tbody>
                
              <% files.forEach(File => {%>    
      
              <tr>
                  <td class="sticky-side bg-light"><p><%= File.originalName %> - <a class="route" href="/file/<%= File._id %>">download</a></p></td>
                  <td><%= File.size %></td>
                  <td><%= File.uploadDate %></td>
                  <td><%= File.uploadTime %></td>
                  <%if(File.noPassword == false){%><td><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lock-fill" viewBox="0 0 16 16">
                    <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                  </svg></td><%}%><!--this two td's are for the stat-->
                  <%if(File.noPassword == true){%><td><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-unlock" viewBox="0 0 16 16">
                    <path d="M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2zM3 8a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H3z"/>
                  </svg></td><%}%>
                  <td><div class="copytd"><a class="copyBtn uploadPageBtns btn btn-outline-secondary">Copy url</a><span class="message">copied!</span></div></td>
                  <td><a href="/share-file-page/<%= File._id  %>" class="shareBtn uploadPageBtns btn btn-outline-secondary">Share</a></td>
                  <td><a class="uploadPageBtns btn btn-danger" onclick="deleteChecker()" href="/delete/<%= File._id%>">Delete</a></td>
                  <td class="input-td d-none"><input class="input" onclick="inputChecker()" value="<%= File._id%>"  type="checkbox" /> &nbsp;</td>

                </tr>
             
      
          <%});%>
      </tbody>
      </table>
          </div>
          </div>
            

           <% }else if(files.length == 0){ %>
          <div class="text-center no-uploads w-100">
            <div class="w-100 alert no-uploads-alert alert-dismissible fade show" role="alert">
                <h1 class="w-100">No files</h1>
              </div>
          </div>
            
        <% } %>

    
</div>




<script src="/styles/myuploads.js"></script>
<script src="/styles/index.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>